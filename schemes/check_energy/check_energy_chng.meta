[ccpp-table-properties]
  name = check_energy_chng
  type = scheme
  dependencies = ../../../data/cam_thermo.F90,../../../dynamics/tests/dyn_tests_utils.F90


[ccpp-arg-table]
  name  = check_energy_chng_init
  type  = scheme
[ print_energy_errors_in ]
  standard_name = control_for_energy_conservation_warning_tbd
  units = none
  type = logical
  dimensions = ()
  intent = in

[ccpp-arg-table]
  name  = check_energy_chng_timestep_init
  type  = scheme
[ ncol ]
  standard_name = horizontal_dimension
  units = count
  type = integer
  dimensions = ()
  intent = in
[ pver ]
  standard_name = vertical_layer_dimension
  units = count
  type = integer
  dimensions = ()
  intent = in
[ pcnst ]
  standard_name = number_of_ccpp_constituents
  units = count
  type = integer
  dimensions = ()
  intent = in
[ is_first_timestep ]
  standard_name = is_first_timestep
  units = flag
  type = logical
  dimensions = ()
  intent = in
[ q ]
  standard_name = ccpp_constituents
  units = none
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension, vertical_layer_dimension, number_of_ccpp_constituents)
  intent = in
[ pdel ]
  standard_name = air_pressure_thickness
  units = Pa
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension, vertical_layer_dimension)
  intent = in
[ u ]
  standard_name = eastward_wind
  units = m s-1
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension, vertical_layer_dimension)
  intent = in
[ v ]
  standard_name = northward_wind
  units = m s-1
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension, vertical_layer_dimension)
  intent = in
[ T ]
  standard_name = air_temperature
  units = K
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension, vertical_layer_dimension)
  intent = in
[ pintdry ]
  standard_name = air_pressure_of_dry_air_at_interface
  units = Pa
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension, vertical_interface_dimension)
  intent = in
[ phis ]
  standard_name = surface_geopotential
  units = m2 s-2
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension)
  intent = in
[ zm ]
  standard_name = geopotential_height_wrt_surface
  units = m
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension, vertical_layer_dimension)
  intent = in
[ cp_phys ]
  standard_name = composition_dependent_specific_heat_of_dry_air_at_constant_pressure
  units = J kg-1 K-1
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension, vertical_layer_dimension)
  intent = in
[ cp_or_cv_dycore ]
  standard_name = enthalpy_or_internal_energy_scaling_factor_for_energy_consistency_tbd
  units = J kg-1 K-1
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension, vertical_layer_dimension)
  intent = in
[ te_ini_phys ]
  standard_name = vertically_integrated_total_energy_of_initial_state_using_physics_energy_formula
  units = J m-2
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension)
  intent = inout
[ te_ini_dyn ]
  standard_name = vertically_integrated_total_energy_of_initial_state_using_dycore_energy_formula
  units = J m-2
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension)
  intent = inout
[ tw_ini ]
  standard_name = vertically_integrated_water_vapor_and_condensed_water_of_initial_state
  units = kg m-2
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension)
  intent = inout
[ te_cur_phys ]
  standard_name = vertically_integrated_total_energy_of_current_state_using_physics_energy_formula
  units = J m-2
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension)
  intent = inout
[ te_cur_dyn ]
  standard_name = vertically_integrated_total_energy_of_current_state_using_dycore_energy_formula
  units = J m-2
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension)
  intent = inout
[ tw_cur ]
  standard_name = vertically_integrated_water_vapor_and_condensed_water_of_current_state
  units = kg m-2
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension)
  intent = inout
[ tend_te_tnd ]
  standard_name = cumulative_total_energy_boundary_flux_using_physics_energy_formula
  units = J m-2 s-1
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension)
  intent = out
[ tend_tw_tnd ]
  standard_name = cumulative_total_water_boundary_flux
  units = kg m-2 s-1
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension)
  intent = out
[ temp_ini ]
  standard_name = temperature_of_initial_state
  units = K
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension, vertical_layer_dimension)
  intent = out
[ z_ini ]
  standard_name = height_wrt_surface_of_initial_state
  units = m
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension, vertical_layer_dimension)
  intent = out
[ count ]
  standard_name = number_of_values_with_significant_energy_or_water_imbalances_tbd
  units = count
  type = integer
  dimensions = ()
  intent = out
[ teout ]
  standard_name = vertically_integrated_total_energy_at_end_of_physics
  units = J m-2
  type = real | kind = kind_phys
  dimensions = (horizontal_dimension)
  intent = out
[ vc_physics ]
  standard_name = vertical_coordinate_for_physics_tbd
  units = 1
  type = integer
  dimensions = ()
  intent = in
[ vc_dycore ]
  standard_name = vertical_coordinate_for_dynamical_core_tbd
  units = 1
  type = integer
  dimensions = ()
  intent = in
[ errmsg ]
  standard_name = ccpp_error_message
  units = none
  type = character | kind = len=512
  dimensions = ()
  intent = out
[ errflg ]
  standard_name = ccpp_error_code
  units = 1
  type = integer
  dimensions = ()
  intent = out

[ccpp-arg-table]
  name  = check_energy_chng_run
  type  = scheme
[ ncol ]
  standard_name = horizontal_loop_extent
  units = count
  type = integer
  dimensions = ()
  intent = in
[ pver ]
  standard_name = vertical_layer_dimension
  units = count
  type = integer
  dimensions = ()
  intent = in
[ pcnst ]
  standard_name = number_of_ccpp_constituents
  units = count
  type = integer
  dimensions = ()
  intent = in
[ q ]
  standard_name = ccpp_constituents
  units = none
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent, vertical_layer_dimension, number_of_ccpp_constituents)
  intent = in
[ pdel ]
  standard_name = air_pressure_thickness
  units = Pa
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent, vertical_layer_dimension)
  intent = in
[ u ]
  standard_name = eastward_wind
  units = m s-1
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent, vertical_layer_dimension)
  intent = in
[ v ]
  standard_name = northward_wind
  units = m s-1
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent, vertical_layer_dimension)
  intent = in
[ T ]
  standard_name = air_temperature
  units = K
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent, vertical_layer_dimension)
  intent = in
[ pintdry ]
  standard_name = air_pressure_of_dry_air_at_interface
  units = Pa
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent, vertical_interface_dimension)
  intent = in
[ phis ]
  standard_name = surface_geopotential
  units = m2 s-2
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent)
  intent = in
[ zm ]
  standard_name = geopotential_height_wrt_surface
  units = m
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent, vertical_layer_dimension)
  intent = in
[ cp_phys ]
  standard_name = composition_dependent_specific_heat_of_dry_air_at_constant_pressure
  units = J kg-1 K-1
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent, vertical_layer_dimension)
  intent = in
[ cp_or_cv_dycore ]
  standard_name = enthalpy_or_internal_energy_scaling_factor_for_energy_consistency_tbd
  units = J kg-1 K-1
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent, vertical_layer_dimension)
  intent = in
[ scaling_dycore ]
  standard_name = composition_dependent_ratio_of_specific_heat_of_dry_air_at_constant_pressure_to_enthalpy_or_internal_energy_scaling_factor_for_energy_consistency_tbd
  units = 1
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent, vertical_layer_dimension)
  intent = in
[ te_cur_phys ]
  standard_name = vertically_integrated_total_energy_of_current_state_using_physics_energy_formula
  units = J m-2
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent)
  intent = inout
[ te_cur_dyn ]
  standard_name = vertically_integrated_total_energy_of_current_state_using_dycore_energy_formula
  units = J m-2
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent)
  intent = inout
[ tw_cur ]
  standard_name = vertically_integrated_water_vapor_and_condensed_water_of_current_state
  units = kg m-2
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent)
  intent = inout
[ tend_te_tnd ]
  standard_name = cumulative_total_energy_boundary_flux_using_physics_energy_formula
  units = J m-2 s-1
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent)
  intent = inout
[ tend_tw_tnd ]
  standard_name = cumulative_total_water_boundary_flux
  units = kg m-2 s-1
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent)
  intent = inout
[ temp_ini ]
  standard_name = temperature_of_initial_state
  units = K
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent, vertical_layer_dimension)
  intent = in
[ z_ini ]
  standard_name = height_wrt_surface_of_initial_state
  units = m
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent, vertical_layer_dimension)
  intent = in
[ count ]
  standard_name = number_of_values_with_significant_energy_or_water_imbalances_tbd
  units = count
  type = integer
  dimensions = ()
  intent = inout
[ ztodt ]
  standard_name = timestep_for_physics
  units = s
  type = real | kind = kind_phys
  dimensions = ()
  intent = in
[ latice ]
  standard_name = latent_heat_of_fusion_of_water_at_0c
  units = J kg-1
  type = real | kind = kind_phys
  dimensions = ()
  intent = in
[ latvap ]
  standard_name = latent_heat_of_vaporization_of_water_at_0c
  units = J kg-1
  type = real | kind = kind_phys
  dimensions = ()
  intent = in
[ vc_physics ]
  standard_name = vertical_coordinate_for_physics_tbd
  units = 1
  type = integer
  dimensions = ()
  intent = in
[ vc_dycore ]
  standard_name = vertical_coordinate_for_dynamical_core_tbd
  units = 1
  type = integer
  dimensions = ()
  intent = in
[ name ]
  standard_name = scheme_name
  units = none
  type = character | kind = len=*
  dimensions = ()
  intent = in
[ flx_vap ]
  standard_name = flux_of_vapor_at_surface_due_to_scheme_tbd
  units = kg m-2 s-1
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent)
  intent = in
[ flx_cnd ]
  standard_name = flux_of_liquid_and_ice_at_surface_due_to_scheme_tbd
  units = m s-1
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent)
  intent = in
[ flx_ice ]
  standard_name = flux_of_ice_at_surface_due_to_scheme_tbd
  units = m s-1
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent)
  intent = in
[ flx_sen ]
  standard_name = flux_of_sensible_heat_at_surface_due_to_scheme_tbd
  units = W m-2
  type = real | kind = kind_phys
  dimensions = (horizontal_loop_extent)
  intent = in
[ errmsg ]
  standard_name = ccpp_error_message
  units = none
  type = character | kind = len=512
  dimensions = ()
  intent = out
[ errflg ]
  standard_name = ccpp_error_code
  units = 1
  type = integer
  dimensions = ()
  intent = out
